<section id="contact">
  <div class="max-wrapper">
    <div>
      <div>
        <h2 data-aos="fade-up" data-aos-duration="800" data-aos-delay="100">{{ 'CONTACT.CONTACT' | translate }}</h2>
        <h3 data-aos="fade-up" data-aos-duration="800" data-aos-delay="200">{{ 'CONTACT.TOGETHER' | translate }}</h3>
        <h4 data-aos="fade-up" data-aos-duration="800" data-aos-delay="300">{{ 'CONTACT.PROBLEM' | translate }}</h4>

        <p data-aos="fade-up" data-aos-duration="800" data-aos-delay="400">
          {{ 'CONTACT.INFO' | translate }}
        </p>

        <p data-aos="fade-up" data-aos-duration="800" data-aos-delay="500">
          {{ 'CONTACT.IN_NEED' | translate }} <span>{{ 'CONTACT.TALK' | translate }}</span> <br> {{ 'CONTACT.VALUE' | translate }}
        </p>
      </div>

      <form #contactForm="ngForm" (ngSubmit)="onSubmit(contactForm)">
        <label>
          {{ 'CONTACT.YOUR_NAME' | translate }}
          <input [(ngModel)]="contactData.name" #name="ngModel" #nameInput type="text" name="name" placeholder="{{ 'CONTACT.NAME_PLACEHOLDER' | translate }}" ngModel required aria-required="true" (input)="onInputChange()">
        </label>

        <label
          (mouseenter)="hoverMiddle(true)"
          (mouseleave)="hoverMiddle(false)"
          (touchstart)="hoverMiddle(true)"
          (touchend)="hoverMiddle(false)">
          {{ 'CONTACT.YOUR_EMAIL' | translate }}
          <input [(ngModel)]="contactData.email" #email="ngModel" #emailInput type="email" name="email" placeholder="{{ 'CONTACT.EMAIL_PLACEHOLDER' | translate }}" ngModel required aria-required="true" pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}" (input)="onInputChange()">
        </label>

        <label>
          {{ 'CONTACT.MESSAGE' | translate }}
          <textarea [(ngModel)]="contactData.message" #message="ngModel" #messageInput name="message" maxlength="800" placeholder="{{ 'CONTACT.MESSAGE_PLACEHOLDER' | translate }}" ngModel required aria-required="true" (input)="autoGrow($event); onMessageChange($event)"></textarea>
        </label>

        <label class="custom-checkbox" (click)="clearCheckboxError()">
          <input #checkbox="ngModel" #subscribeInput type="checkbox" name="subscribe" id="subscribe" ngModel required aria-required="true" (change)="onInputChange()">

          <span [class.error]="showCheckboxError">
            {{ 'CONTACT.CHECKBOX_1' | translate }} <a [routerLink]="['/privacy-policy']" (click)="scrollToTop()">{{ 'CONTACT.PRIVACY_POLICY' | translate }}</a>
            {{ 'CONTACT.CHECKBOX_2' | translate }}
          </span>

          <span *ngIf="showCheckboxError" class="error-message">
            {{ 'CONTACT.TERMS_ERROR' | translate }}
          </span>
        </label>

        <div *ngIf="successMessageVisible"
             class="success-message"
             [class.show]="!successMessageHide"
             [class.hide]="successMessageHide">
          <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128" role="img" aria-labelledby="title desc"><title id="title">Success</title><desc id="desc">Green circular icon with a white checkmark</desc><defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#2fe6b6"/><stop offset="1" stop-color="#08b98b"/></linearGradient><filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur in="SourceGraphic" stdDeviation="6" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter><clipPath id="circleClip"><circle cx="64" cy="64" r="48"/></clipPath></defs><circle cx="64" cy="64" r="54" fill="#3DCFB6" opacity="0.12" filter="url(#softGlow)"/><circle cx="64" cy="64" r="48" fill="#3DCFB6"/><circle cx="64" cy="64" r="48" fill="none" stroke="#ffffff30" stroke-width="1"/><g clip-path="url(#circleClip)"><path id="check" d="M44 66 L58 80 L86 50" fill="none" stroke="#ffffff" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="120" stroke-dashoffset="120"/></g></svg>
          <p>{{ 'CONTACT.MESSAGE_THX' | translate }} {{ thx }}!</p>
          <p [innerHTML]="'CONTACT.MESSAGE_SENT' | translate"></p>
        </div>

        <button
          (mouseenter)="onHover($event); checkForm(contactForm, true)"
          (mouseleave)="onHoverOut($event); checkForm(contactForm, false)"
          (touchstart)="onHover($event); checkForm(contactForm, true)"
          (touchend)="onHoverOut($event); checkForm(contactForm, false)"
          type="submit" [disabled]="contactForm.invalid">
          <span>{{ 'CONTACT.SAY' | translate }}</span>
        </button>
      </form>
    </div>
  </div>
</section>
